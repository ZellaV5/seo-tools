<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>è¯­è¨€è¦†ç›–æ£€æµ‹å·¥å…·</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    textarea {
      width: 100%;
      height: 200px;
      margin-top: 10px;
      font-family: monospace;
    }
    .result {
      margin-top: 20px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h2>è¯­è¨€è¦†ç›–æ£€æµ‹å·¥å…·</h2>
  <p>ç²˜è´´ä½ ä»URLè¡¨æ ¼ä¸­å¤åˆ¶çš„è¯­è¨€ä»£ç ï¼ˆå¦‚ en-usã€es-esï¼‰ï¼Œæ¯è¡Œä¸€ä¸ªæˆ–å«åœ¨æ–‡æœ¬ä¸­å‡å¯ã€‚</p>
  <textarea id="inputBox" placeholder="ç²˜è´´è¯­è¨€ä»£ç åˆ—è¡¨..."></textarea>
  <button onclick="checkMissingLangs()">æ£€æŸ¥ç¼ºå¤±è¯­ç§</button>

  <div class="result" id="resultBox"></div>

  <script>
    const requiredLangs = ['en', 'es', 'pt', 'ru', 'fr', 'de', 'tw', 'zh', 'ja', 'id', 'it', 'th', 'vi', 'tr', 'pl', 'nl', 'ko'];

    function checkMissingLangs() {
      const input = document.getElementById('inputBox').value.toLowerCase();
      const matches = input.match(/[a-z]{2}(?:-[a-z]{2})?/g) || [];

      const prefixes = matches
        .filter(code => code !== 'x-default')
        .map(code => code.split('-')[0]);

      const requiredCount = countItems(requiredLangs);
      const existingCount = countItems(prefixes);

      const missing = [];
      for (const lang in requiredCount) {
        const missingCount = requiredCount[lang] - (existingCount[lang] || 0);
        if (missingCount > 0) {
          for (let i = 0; i < missingCount; i++) {
            missing.push(lang);
          }
        }
      }

      const resultBox = document.getElementById('resultBox');
      resultBox.innerText = missing.length
        ? 'ç¼ºå¤±çš„è¯­è¨€ä»£ç ï¼š' + missing.join(', ')
        : 'ğŸ‰ å·²å…¨éƒ¨è¦†ç›–ï¼Œæ— ç¼ºå¤±è¯­ç§ï¼';
    }

    function countItems(arr) {
      const map = {};
      for (const item of arr) {
        map[item] = (map[item] || 0) + 1;
      }
      return map;
    }
  </script>
</body>
</html>
